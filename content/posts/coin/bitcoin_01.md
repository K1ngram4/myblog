## 比特币诞生的背景

08年发生了全球性的金融危机，引发了货币贬值，金融行业爆出了严重的信用问题，导致了民众对政府发布的法币失去了信任，比特币在这个时候横空出世，作为发行总量恒定的币种，对抗法币的存在，可以说是一个非常理想的工具。

## 什么是数字货币

一般来说我们提到的数字货币主要是密码货币，支付宝，银行卡可以被称为电子货币，对应的事法币，跟数字货币有本质的区别。

以下从几个方面对比数字货币和电子货币：

- 定价方式

电子货币由主权货币定价，数字货币由自身价值定价，价格波动较大

- 发行

电子货币由央行决定发行，数字货币由算法决定发行总量，算法确定的情况下，币是无法超发的。

- 价值属性

电子货币受到货币政策的影响，数字货币由供需关系决定价值

- 记账

电子货币需要多个账本进行对账，数字货币的账本只有一份

- 流通性

电子货币信息和资金分离，采取的是先记账，再分配资金的方式，数字货币信息和资金合一

## 涉及数字货币的核心难题：防伪和双花

防伪主要指身份的真实性，和载体的真实性，比如在纸质的货币中，需要鉴别纸质钞票是否是伪造的

双花主要是指同一个货币被同时支付给不同的对象，这个在使用纸质货币中就不会存在这个问题，在电子货币中，有中心化的记账机构--银行来冻结交易的资金，保证同一笔钱不会被支付两次，但是在去中心化的世界里，并不存在一个中心化的机构，解决这样的问题就比较复杂。比如a给b支付了一笔数字货币，在系统没确认前没办法组织a把这笔钱支付给c。如果系统设计的不好就会出现灾难性的问题。

## 比特币的技术原理

几个名词的介绍：

1.节点

代表的是安装了比特币客户端的计算机，也叫矿机

2.旷工

以挖矿为目的的参与比特币网络的叫做旷工

3.用户

只有转账需求的叫做普通用户

**比特币的原理**

- 防伪方案

  比特币采用非对称加密算法，私钥只有本人知道，公钥是公开的，一段加密信息，只有通过对应的公钥才能获得对应的原文，利用这种特性，一个用户要发送转账消息时，其他节点得到这个消息，就可以用该用户的公钥进行解密，如果能够解开，则证明这个消息确实是这个用户发送的。因为只有他有这个私钥。所以在区块链系统中，这个私钥非常重要，一旦丢失，则你就不是你自己了。就会丢失这个私钥对应的所有资产。

- 记账方案

  在传统的金融系统中，用户首先要在银行开一个账户，资金的转入转出都需要和账户关联，这种叫做account交易模型，eth采用的就是这种记账方案

  在比特币系统中则使用的是utxo交易模型，翻译为中文是未消费的交易输出

  > 简单解释下这个utxo的交易模型，我有2个比特币，给张三转了0.2个比特币，则使用utxo记账模型，输出为三个部分，张三得到0.2个比特币，我剩余1.7个比特币，旷工得到0.1个比特币（这部分不会在区块链网络中显示），在整个比特币区块链网络中，源头都来自挖矿奖励，末尾则是当前未消费的交易输出。所有的未消费的交易输出，即整个网络的utxo

- 区块结构

  单个区块(block)是由以下部分组成

  1.版本信息

  2.随机数

  3.前一个区块的hash

  4.时间戳

  5.merkle

  这个值是这个区块里所有交易的hash，他的运算过程是一个树状图， 最底层叶子节点代表所有交易的hash值，每两个hash在进行运算得到一个hash，再运算，依次往上得到最后一个根节点hash就是merkle的值。

  这种特性就表示任何一个交易记录被篡改，都会导致最终的根节点hash值改变。

  > 这种树形结构的好处就是在每个子树种都可以验证交易的真实性

  6.交易数据列表

- 挖矿原理

  